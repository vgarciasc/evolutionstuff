<meta charset="utf-8">
<html>
    <head>
        <title>mcts test</title>
        <link rel="stylesheet" href="style.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.min.js" integrity="sha256-WVsM3xrcqyuFNF3W1qtIKbHFsD0977nDQA8DCMp1zCw=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js" integrity="sha256-2/3R3NV5zryj0fDjD3cDh+SNiWQ/TJiMVZzAo5FrhiU=" crossorigin="anonymous"></script>
        <script src="./draw_tree.js"></script>
        <script src="./lib/tree.js"></script>
        <script src="./interactive.js"></script>
        <script src="./tree_vis.js"></script>
        <script src="./lib/tictactoe.js"></script>
        <script src="./lib/tabularq.js"></script>
        <script src="./lib/mcts.js"></script>
        <script src="./sketch.js"></script>
        <script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>
        <!-- <script src="./sketch.js"></script> -->
        <!-- <script src="./lib/nn.js"></script> -->
        <style>
            .selection       { color: rgb(180, 30,  30); }
            .expansion       { color: rgb(30, 180,  30); }
            .simulation      { color: rgb(30, 180, 180); }
            .backpropagation { color: rgb(30,  30, 180); }
        </style>
    </head>
    <body onLoad="setupInteractive()">
        <h1>MCTS Tic-tac-toe (<i>Monte Carlo Tree Search</i>)</h1>
        <div style="width: auto; float: left; border: solid 1px black; padding: 1em;">
            <div id="canvascontainer"></div>
            <p id="starting_player_area">
                <b>Who will start the game?</b>
                <br>
                <button onclick="myp5.selectStartingPlayer(0)">HUMAN (You!)</button>
                <button onclick="myp5.selectStartingPlayer(1)">MACHINE</button>
            </p>
            <p id="whoseturn_area">
                <b>Whose turn?</b> <span id="whoseturn">HUMAN</span>
            </p>
            <div id="machine_controls_area">
                <b>Machine controls:</b>
                <div style="background-color: rgb(230, 230, 230); padding: 1em">                
                    <button onclick="myp5.machineRandomMove()">Make random move</button>
                    <br>
                    <button onclick="myp5.machineMctsMove()">Make MCTS move</button>
                    <br>
                    <br>
                    Run MCTS for:
                    <br>
                    <input id="mcts_timeout_slider" type="range" min="0" max="10" value="1"/>
                    <br>
                    <span id="mcts_timeout_span"><b>1</b></span> seconds
                </div>
            </div>
            <div id="game_over_area">
                <b>The winner is...</b> <span id="game_over_winner">HUMAN</span>!
                <br>
                <center>
                    <button onclick="myp5.reset()">Restart game</button>
                </center>
            </div>
        </div>
        <div style="width: auto; margin-left: 2em; float: left; border: solid 1px black">
            <div style="border: solid 1px lightgrey; height: 50px">
                <div style="float: left;">
                    <div>
                        <button style="width: 200px;" id="btn_make_play" disabled>make play</button>
                    </div>
                    <div>
                        <button style="float: left; width: 100px;" id="btn_next" disabled>next &gt;</button>
                        <button style="float: left; width: 100px;" id="btn_finish" disabled>finish &gt;&gt;</button>
                    </div>
                </div>
                <div style="float: left; height: 100%; padding: 0.25em">
                    <b>Current action</b>:
                    <br>
                    <span id="current_action_kind">---</span>
                    <br>
                    <span id="current_action_count">(0/0)</span>
                </div>
            </div>
            <div id="tree_vis"></div>
        </div>
    </body>
</html>